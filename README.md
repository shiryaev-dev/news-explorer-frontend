# [News Explorer](https://newsexplorer.ml/)

Описание:
---
Это приложение - моя дипломная работа в Яндекс.Практикум по предоставленому мне ТЗ и макету. Реализованный сервис позволяет производить поиск по новостям с помощью [News API](https://newsapi.org/) и сохранять их, используя разработанный мной [API](https://github.com/slam235/news-explorer-api). Сохранять новости можно после регистрации. Просмотр и удаление сохранённых новостей доступен в личном кабинете.

Работу с сервисом можно разбить на несколько этапов:
* Загрузка приложения.

При загрузке приложение отправляет запрос на аутентификацию к [API](https://github.com/slam235/news-explorer-api). Если аутентификация проходит успешно (а это возможно лишь в том случае, когда вместе с запросом к API приходит ещё и соответствующая кука, подтверждающая, что пользователь выполнял вход прежде), то из [API](https://github.com/slam235/news-explorer-api) приходит список уже сохранённых статей.

* Поиск новостей.

Поиск новостей производится при вводе слова или фразы в соответствующее поле и нажатии кнопки "Искать". Если поле не заполнено, то будет выдано предупреждение и запрос к [News API](https://newsapi.org/) отправлен не будет. В том случае, когда поле заполнено, к [News API](https://newsapi.org/) отправляется запрос для получения списка новостей за последнюю неделю, содержащих указанную фразу. 

Если новости не найдены, то пользователь получает соответствующее уведомление. В том случае, когда новости найдены, то первые три выводятся в блоке под поиском. Если новостей больше 3, для этого реализована пагинация в виде кнопки "Показать ещё", которая выводит ещё 3 новости из полученого ранее списка новостей [News API](https://newsapi.org/).

* Регистрация и аутентификация.

Регистрация и аутентификация выполняется через [API](https://github.com/slam235/news-explorer-api) с использованием модальных окон. В формах производится валидация данных, а [API](https://github.com/slam235/news-explorer-api), помимо валидации входящих данных, производит поиск по базе (MongoDB) пользователя и проверяет соответствие паролей. В случае возникновения ошибки, в качестве ответа отправляется информация о ней, а клиентская часть обрабатывает такой ответ и выводит информацию об ошибке в форму.

* Сохранение новостей для последующего просмотра.

Когда пользователь вошёл в систему, он, помимо поиска новостей, может выполнять сохранение новостей и удаление новостей из сохранённых прямо в поисковой выдаче на главной странице приложения. Запросы на сохранение и удаление новостей отправляются к [API](https://github.com/slam235/news-explorer-api). Перед выполнением этого [API](https://github.com/slam235/news-explorer-api) производит проверку, возможно ли выполнить такое действие. Если да, то выполняет сохранение новости в базу или удаление её из базы, если нет - то возвращает ошибку с описанием. Например, нельзя удалить сохранённую новость другого пользователя или попробовать удалить ту новость, которой вовсе нет.

* Просмотр сохранённых новостей и удаление их.

Просмотреть список сохранённых новостей можно на странице /savednews. Доступ к ней имеется только у тех пользователей, которые выполнили вход. Прочих - переадресует на главную страницу. На этой странице доступна информация о количестве сохранённых статей, топе ключевых слов и сам список новостей с возможностью удаления их из сохранённых. Список новостей запрашивается у [API](https://github.com/slam235/news-explorer-api), а данные о количестве новостей и топе ключевых слов строятся на основании полученных статей.

Сборка и запуск:
---
- Склонируйте репозиторий:

```
git clone https://github.com/slam235/news-explorer-frontend.git
```

- Установите необходимые зависимости:

```
npm install
```

- Для запуска выполните команду:

```
npm run dev
```

- Для получения итоговой сборки:

```
npm run build
```

- Приложение, запущенное на localhost будет иметь доступ к боевому API. Но всегда можно развернуть [API](https://github.com/slam235/news-explorer-api) локально и изменить настройки подключения в src/js/constants/config.js:
```
const MAIN_API_URL = 'URL вашего API';
const NEWS_API - объект с настройками работы с News API
```

- Для размещения на GitHub Pages:
    * в файле `package.json` внесите необходимые настройки (информация о репозитории и домашней странице приложения).
    * выполните команду:

```
npm run deploy
```
     
